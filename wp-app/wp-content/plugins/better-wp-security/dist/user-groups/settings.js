this.itsec=this.itsec||{},this.itsec["user-groups"]=this.itsec["user-groups"]||{},this.itsec["user-groups"].settings=(window.itsecWebpackJsonP=window.itsecWebpackJsonP||[]).push([[27],{"1ZqX":function(e,t){!function(){e.exports=this.wp.data}()},ELjz:function(e,t,r){},GRId:function(e,t){!function(){e.exports=this.wp.element}()},"GjY+":function(e,t,r){},GrEf:function(e,t,r){},K9lf:function(e,t){!function(){e.exports=this.wp.compose}()},Mmq9:function(e,t){!function(){e.exports=this.wp.url}()},QmYb:function(e,t,r){},RUGT:function(e,t,r){"use strict";r.d(t,"b",(function(){return B})),r.d(t,"a",(function(){return ee}));var n={};r.r(n),r.d(n,"registerProvider",(function(){return q})),r.d(n,"REGISTER_PROVIDER",(function(){return K}));var i={};r.r(i),r.d(i,"getProviders",(function(){return Y}));var s=r("QILm"),c=r.n(s),u=r("pVnL"),o=r.n(u),a=r("J4zp"),l=r.n(a),d=r("GRId"),p=r("55Ip"),b=r("Ty5D"),f=r("LhCv"),g=r("YLtl"),O=r("tI+e"),m=r("l3Sj"),h=r("1ZqX"),j=r("K9lf"),v=r("RxS6"),y=r("gdqT"),E=r("ppSj"),_=r("49++"),S=r("lwsE"),x=r.n(S),I=r("W8MJ"),k=r.n(I),w=r("tmk3"),G=r.n(w),L=r("92Nh"),N=r.n(L);function R(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return T(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,c=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return c=e.done,e},e:function(e){u=!0,s=e},f:function(){try{c||null==r.return||r.return()}finally{if(u)throw s}}}}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var P=new WeakMap,A=new WeakMap,C=new WeakMap,D=new WeakMap,U=new WeakMap,M=function(){function e(t,r){x()(this,e),P.set(this,{writable:!0,value:void 0}),A.set(this,{writable:!0,value:void 0}),C.set(this,{writable:!0,value:void 0}),D.set(this,{writable:!0,value:void 0}),U.set(this,{writable:!0,value:void 0}),N()(this,P,t),N()(this,A,r),N()(this,C,r.select(ee).getProviders()),this._prepare()}return k()(e,[{key:"_prepare",value:function(){var e=this;N()(this,U,G()(this,P).split(/\s+/g).map((function(e){return e.trim().toLowerCase()})).filter((function(e){return!!e})));var t=G()(this,P).endsWith(" ");N()(this,D,new RegExp(G()(this,U).map((function(r,n){return n+1!==G()(e,U).length||t?"(?=.*\\b".concat(Object(g.escapeRegExp)(r),"\\b)"):"(?=.*\\b".concat(Object(g.escapeRegExp)(r),")")})).join("")+".+","gi"))}},{key:"_stringMatch",value:function(e){return e&&G()(this,D).test(e)}},{key:"_keywordMatch",value:function(e){var t=this;return!(!e||!e.length)&&e.some((function(e){return G()(t,U).some((function(r,n){return e.includes(" ")?t._stringMatch(e):n===G()(t,U).length-1?e.startsWith(r):r===e}))}))}},{key:"getResults",value:function(){var e=this;if(G()(this,P).length<3)return[{},0];var t,r=0,n=[],i={stringMatch:function(t){return e._stringMatch(t)},keywordMatch:function(t){return e._keywordMatch(t)}},s=R(G()(this,C));try{for(s.s();!(t=s.n()).done;){var c=t.value,u={title:c.title,items:[],groups:{}};r+=c.callback({evaluate:i,results:u,registry:G()(this,A)}),!u.items.length&&Object(g.isEmpty)(u.groups)||n.push(u)}}catch(e){s.e(e)}finally{s.f()}return[n,r]}}]),e}(),B=(r("YSGj"),Object(d.forwardRef)((function(e,t){var r=e.onPick,n=void 0===r?g.noop:r,i=e.showResults,s=Object(d.useState)(""),c=l()(s,2),u=c[0],a=c[1],p=Object(d.useState)(!1),b=l()(p,2),f=b[0],_=b[1],S=Object(d.useRef)(),x=Object(d.useRef)(),I=Object(d.useState)([]),k=l()(I,2),w=k[0],G=k[1],L=Object(h.useRegistry)(),N=Object(d.useCallback)((function(e){var t=new M(e,L).getResults();G(t[0]),Object(y.speak)(Object(m.sprintf)(Object(m._n)("%d result found.","%d results found.",t[1],"better-wp-security"),t[1]))}),[L]),R=Object(j.useDebounce)(N,50),T=Object(d.useCallback)((function(e){S.current&&(e.preventDefault(),S.current.focus())}),[S]);return Object(j.useKeyboardShortcut)("/",T),Object(d.createElement)("div",o()({className:"itsec-search"},Object(E.c)((function(){return _(!1)}))),Object(d.createElement)("div",null,Object(d.createElement)(O.TextControl,{type:"search",placeholder:Object(m.__)("Search","better-wp-security"),label:Object(m.__)("Search","better-wp-security"),hideLabelFromVision:!0,value:u,onChange:function(e){a(e),R(e)},onFocus:function(){return _(!0)},onKeyDown:function(e){e.keyCode===v.DOWN&&(e.preventDefault(),x.current.focus())},ref:Object(E.e)([t,S])}),(f||i)&&u.length>=3&&Object(d.createElement)(F,{results:w,exitSearch:function(e){n(e),_(!1)},ref:x,onPick:n})))}))),F=Object(d.forwardRef)((function(e,t){var r=e.results,n=e.exitSearch,i=e.onPick,s=Object(d.useRef)();Object(d.useImperativeHandle)(t,(function(){return{focus:function(){s.current.focus()}}}));var c,u=Object(j.useInstanceId)(F,"itsec-search"),a=u+"__result__",p=(c=Object(b.h)(),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"push";return c[t](Object(f.b)(e))}),h=Object(d.useState)(""),y=l()(h,2),E=y[0],S=y[1];return Object(g.isEmpty)(r)?null:Object(d.createElement)(React.Fragment,null,Object(d.createElement)(O.VisuallyHidden,{id:u+"__label"},Object(m.__)("Search Results","better-wp-security")),Object(d.createElement)(_.b,{className:"itsec-search__results",id:u,active:E&&a+E,onNavigate:function(e){return S(e.substr(a.length))},onKeyDown:function(e){var t=e.keyCode;!E||t!==v.ENTER&&t!==v.SPACE||(i(E),p(E),n())},onFocus:function(){if(!E&&!Object(g.isEmpty)(r)){var e,t=l()(Object.entries(r)[0],2)[1];if(null!==(e=t.items)&&void 0!==e&&e.length)S(t.items[0].route);else if(!Object(g.isEmpty)(t.groups)){var n=l()(Object.entries(t.groups)[0],2)[1];S(n.items[0].route)}}},role:"listbox",descendantRoles:"option",ref:s,"aria-labelledby":u+"__label"},Object(g.map)(r,(function(e,t){return Object(d.createElement)(V,o()({key:t},e,{active:E,idPrefix:a,exitSearch:n}))}))))}));function V(e){var t=e.title,r=e.items,n=e.groups,i=c()(e,["title","items","groups"]),s=Object(j.useInstanceId)(F,"itsec-search__kind");return Object(d.createElement)("ul",{className:"itsec-search__kind",role:"group","aria-labelledby":s},Object(d.createElement)("li",{role:"presentation",id:s},t),(r||[]).map((function(e){return Object(d.createElement)(H,o()({key:e.route},e,i))})),Object(g.map)(n,(function(e,t){return Object(d.createElement)($,o()({key:t},e,i))})))}function $(e){var t=e.title,r=e.items,n=c()(e,["title","items"]),i=Object(j.useInstanceId)(F,"itsec-search__group");return Object(d.createElement)("ul",{className:"itsec-search__group",role:"group","aria-labelledby":i},Object(d.createElement)("li",{role:"presentation",id:i},Object(d.createElement)("span",null,t)),(r||[]).map((function(e){return Object(d.createElement)(H,o()({key:e.route},e,n))})))}function H(e){var t=e.title,r=e.description,n=e.route,i=e.active,s=e.idPrefix,c=e.exitSearch;return Object(d.createElement)("li",{className:"itsec-search__result",role:"option","aria-selected":i===n||void 0,id:s+n,"aria-label":t},Object(d.createElement)(p.a,{to:n,tabIndex:-1,onClick:function(){return c(n)}},Object(d.createElement)("span",null,t),Object(d.createElement)(_.n,{content:r,noHtml:!0,tagName:"p"})))}function q(e,t,r,n){return{type:K,slug:e,title:t,priority:r,callback:n}}var K="REGISTER_PROVIDER",W=r("pPDe"),Y=Object(W.a)((function(e){return Object(g.sortBy)(e.providers,"priority")}),(function(e){return e.providers})),z=r("lSNA"),J=r.n(z);function Q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function X(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(r),!0).forEach((function(t){J()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Z={providers:{}};var ee="ithemes-security/search";Object(h.registerStore)(ee,{actions:n,selectors:i,reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K:return X(X({},e),{},{providers:X(X({},e.providers),{},J()({},t.slug,Object(g.omit)(t,["type"])))});default:return e}}})},RxS6:function(e,t){!function(){e.exports=this.wp.keycodes}()},TMLI:function(e,t,r){},Tqx9:function(e,t){!function(){e.exports=this.wp.primitives}()},TvNi:function(e,t){!function(){e.exports=this.wp.plugins}()},XO7p:function(e,t,r){},Y0od:function(e,t,r){},YLtl:function(e,t){!function(){e.exports=this.lodash}()},YSGj:function(e,t,r){},ZRc3:function(e,t,r){},cDcd:function(e,t){!function(){e.exports=this.React}()},epig:function(e,t,r){"use strict";r.r(t);var n={};r.r(n),r.d(n,"editGroup",(function(){return tt})),r.d(n,"saveGroup",(function(){return rt})),r.d(n,"saveGroups",(function(){return nt})),r.d(n,"resetEdits",(function(){return it})),r.d(n,"resetAllEdits",(function(){return st})),r.d(n,"deleteGroup",(function(){return ct})),r.d(n,"deleteLocalGroups",(function(){return ut})),r.d(n,"createLocalGroup",(function(){return ot})),r.d(n,"editGroupSetting",(function(){return at})),r.d(n,"saveGroupSettings",(function(){return lt})),r.d(n,"saveGroupSettingsAsBatch",(function(){return dt})),r.d(n,"bulkEditGroupSetting",(function(){return pt})),r.d(n,"resetBulkGroupSettingEdit",(function(){return bt})),r.d(n,"resetBulkGroupSettingEdits",(function(){return ft})),r.d(n,"saveBulkEdits",(function(){return gt})),r.d(n,"saveGroupAndSettings",(function(){return Ot})),r.d(n,"applyDefaultGroupSettings",(function(){return mt})),r.d(n,"createDefaultGroups",(function(){return ht})),r.d(n,"SET_GROUP_ERROR",(function(){return jt})),r.d(n,"SET_BULK_ERRORS",(function(){return vt})),r.d(n,"EDIT_GROUP",(function(){return yt})),r.d(n,"RESET_EDITS",(function(){return Et})),r.d(n,"RESET_ALL_EDITS",(function(){return _t})),r.d(n,"CREATE_LOCAL_GROUP",(function(){return St})),r.d(n,"DELETE_LOCAL_GROUP",(function(){return xt})),r.d(n,"DELETE_LOCAL_GROUPS",(function(){return It})),r.d(n,"START_SAVE_GROUP",(function(){return kt})),r.d(n,"FINISH_SAVE_GROUP",(function(){return wt})),r.d(n,"FAILED_SAVE_GROUP",(function(){return Gt})),r.d(n,"EDIT_GROUP_SETTING",(function(){return Lt})),r.d(n,"RESET_GROUP_SETTING",(function(){return Nt})),r.d(n,"START_SAVE_GROUP_SETTINGS",(function(){return Rt})),r.d(n,"FINISH_SAVE_GROUP_SETTINGS",(function(){return Tt})),r.d(n,"FAILED_SAVE_GROUP_SETTINGS",(function(){return Pt})),r.d(n,"BULK_EDIT_GROUP_SETTING",(function(){return At})),r.d(n,"RESET_BULK_GROUP_SETTING_EDIT",(function(){return Ct})),r.d(n,"RESET_BULK_GROUP_SETTING_EDITS",(function(){return Dt}));var i={};r.r(i),r.d(i,"getLocalGroupIds",(function(){return Mt})),r.d(i,"isLocalGroup",(function(){return Bt})),r.d(i,"getMatchableType",(function(){return Ft})),r.d(i,"isSavingGroupOrSettings",(function(){return Vt})),r.d(i,"getEditedGroup",(function(){return $t})),r.d(i,"getEditedGroupAttribute",(function(){return Ht})),r.d(i,"getEditedMatchableLabel",(function(){return qt})),r.d(i,"hasEdits",(function(){return Kt})),r.d(i,"getDirtyGroups",(function(){return Wt})),r.d(i,"settingHasEdits",(function(){return Yt})),r.d(i,"getGroupSettingsEdits",(function(){return zt})),r.d(i,"getEditedGroupSettings",(function(){return Qt})),r.d(i,"getEditedGroupSetting",(function(){return Xt})),r.d(i,"getEditedGroupsBySetting",(function(){return Zt})),r.d(i,"getDirtyGroupSettings",(function(){return er})),r.d(i,"isDirty",(function(){return tr})),r.d(i,"hasBulkSettingEdits",(function(){return rr})),r.d(i,"getBulkSettingEdits",(function(){return nr})),r.d(i,"getBulkSettingEdit",(function(){return ir})),r.d(i,"getBulkSettingValue",(function(){return sr})),r.d(i,"isSavingBulkEdits",(function(){return cr})),r.d(i,"getAvailableGroups",(function(){return ur})),r.d(i,"getMatchableNavIds",(function(){return ar})),r.d(i,"getError",(function(){return lr})),r.d(i,"getBulkErrorsList",(function(){return dr}));var s={};r.r(s),r.d(s,"getAvailableGroups",(function(){return br}));var c=r("GRId"),u=r("l3Sj"),o=r("TvNi"),a=(r("onLe"),r("oYJ/")),l=(r("sPxh"),r("on51"));function d(){return Object(c.createElement)(x,null)}var p=r("J4zp"),b=r.n(p),f=r("yXPU"),g=r.n(f),O=r("o0o1"),m=r.n(O),h=r("Ty5D"),j=r("55Ip"),v=r("TZi5"),y=r("1ZqX"),E=r("tI+e"),_=r("49++"),S=r("ppSj");r("GjY+");function x(){var e=Object(h.k)(),t=e.url,r=e.path,n=e.isExact,i=Object(h.i)(),s=i.hash,o=i.search,a=Object(h.j)().root,d=Object(l.useNavigateTo)(),p=Object(y.useSelect)((function(e){return e("ithemes-security/user-groups-editor").getMatchableNavIds()})),b=Object(y.useDispatch)("ithemes-security/user-groups-editor").createLocalGroup;if(null===p)return null;var f=function(){var e=g()(m.a.mark((function e(){var r,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b();case 2:r=e.sent,n=r.id,d("".concat(t,"/").concat(n,"/edit"));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.createElement)(React.Fragment,null,!n&&Object(c.createElement)(k,{navIds:p,url:t,search:o,hash:s}),Object(c.createElement)(h.d,null,Object(c.createElement)(h.b,{path:"".concat(r,"/multi")},Object(c.createElement)(G,{navIds:p})),Object(c.createElement)(h.b,{path:"".concat(r,"/:child")},Object(c.createElement)(l.NavigationFill,null,Object(c.createElement)(E.Button,{isLink:!0,onClick:f,className:"itsec-add-new-user-group-link"},Object(u.__)("New Group","better-wp-security"))),Object(c.createElement)(w,{root:a})),Object(c.createElement)(h.b,{path:r},p.length>0&&("onboard"===a?Object(c.createElement)(I,null):Object(c.createElement)(h.a,{to:"".concat(t,"/").concat(p[0],"/").concat(o).concat(s)})))))}function I(){var e=Object(y.useSelect)((function(e){return e(a.c).getModule("user-groups")||{}})).help,t=Object(l.useNavigateTo)(),r=Object(y.useRegistry)(),n=Object(y.useDispatch)("ithemes-security/user-groups-editor"),i=n.applyDefaultGroupSettings,s=n.createDefaultGroups,o=function(){var e=r.select("ithemes-security/user-groups-editor").getMatchableNavIds();t("/onboard/user-groups/".concat(e[0]))},d=function(){var e=g()(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:o();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=g()(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s();case 2:return e.next=4,i();case 4:o();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.createElement)(React.Fragment,null,Object(c.createElement)(L,null),Object(c.createElement)(l.PageHeader,{title:Object(u.__)("User Groups","better-wp-security"),subtitle:Object(u.__)("User Groups allow you to enable security features for specific sets of users.","better-wp-security"),description:Object(u.__)("Default groups automatically categorize your users by their WordPress capabilities and enable the recommended security settings for each group. Alternatively, start from scratch with custom groups and categorize your users any way you like.","better-wp-security")+" "+Object(u.__)("User Groups won’t change a user’s capabilities, only iThemes Security features are impacted.","better-wp-security"),help:e}),Object(c.createElement)(_.o,{hasBorder:!0,recommended:!0,messages:Object(u.__)("Recommended: Default User Groups are the simplest way to get started with iThemes Security.","better-wp-security")}),Object(c.createElement)("div",{className:"itsec-user-groups-intro"},Object(c.createElement)(l.SelectableCard,{onClick:p,icon:"groups",title:Object(u.__)("Default","better-wp-security"),description:Object(u.__)("Continue with default groups","better-wp-security"),direction:"vertical",recommended:!0}),Object(c.createElement)(l.SelectableCard,{onClick:d,icon:"edit",title:Object(u.__)("Custom","better-wp-security"),description:Object(u.__)("Create custom groups","better-wp-security"),direction:"vertical"})))}function k(e){var t=e.navIds,r=e.url,n=e.search,i=e.hash,s=Object(y.useSelect)((function(e){return t.map(e("ithemes-security/user-groups-editor").getEditedMatchableLabel)}),[t]),o=t.map((function(e,t){return{title:s[t]||Object(u.__)("Untitled","better-wp-security"),to:"".concat(r,"/").concat(e).concat(n).concat(i),id:e}}));return Object(c.createElement)(l.ChildPages,{pages:o})}function w(e){var t=e.root,r=Object(h.j)().child,n=Object(l.useNavigation)(),i=n.previous,s=n.next,o=n.nextPage;return Object(c.createElement)(React.Fragment,null,Object(c.createElement)(L,null),Object(c.createElement)(P,{groupId:r,showSave:"onboard"!==t}),"onboard"===t&&Object(c.createElement)(E.Flex,null,i&&Object(c.createElement)(E.FlexItem,null,Object(c.createElement)(j.a,{component:Object(S.i)(E.Button),isTertiary:!0,type:"button",to:i},Object(u.__)("Back","better-wp-security"))),Object(c.createElement)(_.i,null),s&&Object(c.createElement)(React.Fragment,null,Object(c.createElement)(E.FlexItem,null,Object(c.createElement)(j.a,{component:Object(S.i)(E.Button),isPrimary:!0,to:s},Object(u.__)("Next","better-wp-security"))),Object(c.createElement)(E.FlexItem,null,Object(c.createElement)(j.a,{component:Object(S.i)(E.Button),isPrimary:!0,to:o,text:Object(u.__)("Skip User Groups","better-wp-security"),icon:"arrow-right-alt",iconPosition:"right",className:"itsec-button-icon-right"})))))}function G(e){var t=e.navIds,r=Object(v.d)("id",Object(v.e)(v.a,[])),n=b()(r,2),i=n[0],s=n[1],u=Object(v.d)("all",v.b),o=b()(u,2),a=o[0],l=o[1];return Object(c.useEffect)((function(){a&&(s(t),l(void 0))}),[s,a,l,t]),Object(c.createElement)(C,{groupIds:i})}function L(){var e=Object(h.k)(),t=Object(y.useSelect)((function(e){return e(a.c).getModule("user-groups")||{}})).help;return Object(c.createElement)(l.HelpFill,null,Object(c.createElement)(l.PageHeader,{title:Object(u.__)("User Groups","better-wp-security"),description:t,breadcrumbs:Object(c.createElement)(l.Breadcrumbs,{title:Object(u.__)("Help","better-wp-security"),match:e})}),Object(c.createElement)(_.j,{topic:"user-groups"}))}var N=r("YLtl"),R=r("Mmq9"),T=r("TXkB");r("Y0od");function P(e){var t=e.groupId,r=e.showSave,n=Object(h.i)(),i=n.hash,s=n.search,o=Object(R.getQueryArg)(s,"module"),a=Object(h.k)(),l=a.url,d=a.path,p=Object(y.useSelect)((function(e){return{type:e("ithemes-security/user-groups-editor").getMatchableType(t),isDirty:e("ithemes-security/user-groups-editor").isDirty(t),isSaving:e("ithemes-security/user-groups-editor").isSavingGroupOrSettings(t),notFound:e("ithemes-security/user-groups").isGroupNotFound(t)}}),[t]),b=p.type,f=p.isDirty,g=p.isSaving,O=p.notFound,m=Object(y.useDispatch)("ithemes-security/user-groups-editor"),j=m.saveGroupAndSettings,v=m.resetEdits,S=Object(c.useMemo)((function(){return[{name:"settings",title:Object(u.__)("Features","better-wp-security"),className:"itsec-manage-user-group-tabs__tab",Component:ee},"user-group"===b&&{name:"edit",title:Object(u.__)("Edit Group","better-wp-security"),className:"itsec-manage-user-group-tabs__tab",Component:$}].filter(N.isPlainObject)}),[b]);return O?Object(c.createElement)(React.Fragment,null,Object(c.createElement)(_.o,{type:"error",title:Object(u.__)("No Group Found","better-wp-security"),messages:[Object(u.__)("No user group was found with the requested id.","better-wp-security")]}),Object(c.createElement)("div",{style:{maxWidth:"20rem",margin:"0 auto",display:"block"}},Object(c.createElement)(T.k,null))):Object(c.createElement)(React.Fragment,null,Object(c.createElement)(Oe,{groupId:t,moduleFilter:o}),Object(c.createElement)(h.d,null,Object(c.createElement)(h.b,{path:"".concat(d,"/:tab")},g?Object(c.createElement)(E.Disabled,null,Object(c.createElement)(A,{groupId:t,base:l,tabs:S,moduleFilter:o})):Object(c.createElement)(A,{groupId:t,base:l,tabs:S,highlight:i.substr(1),moduleFilter:o})),Object(c.createElement)(h.b,{path:d},Object(c.createElement)(h.a,{to:"".concat(l,"/").concat(S[0].name,"/").concat(s).concat(i)}))),r&&Object(c.createElement)(E.Flex,null,Object(c.createElement)(_.i,null),Object(c.createElement)(E.FlexItem,null,Object(c.createElement)(E.Button,{isSecondary:!0,onClick:function(){return v(t)},disabled:!f},Object(u.__)("Undo Changes","better-wp-security"))),Object(c.createElement)(E.FlexItem,null,Object(c.createElement)(E.Button,{isPrimary:!0,onClick:function(){return j(t)},isBusy:g,disabled:g||!f},Object(u.__)("Save","better-wp-security")))))}function A(e){var t=e.groupId,r=e.base,n=e.tabs,i=e.highlight,s=e.moduleFilter,o=Object(h.k)(),a=o.url,d=o.params.tab,p=Object(l.useNavigateTo)(),b=Object(y.useSelect)((function(e){return e("ithemes-security/user-groups-editor").getError(t)}));return s?Object(c.createElement)(E.Card,null,Object(c.createElement)(E.CardHeader,{className:"itsec-user-groups-filtered-features"},Object(c.createElement)(j.a,{to:a,component:Object(S.i)(E.Button),icon:"arrow-left",text:Object(u.__)("All Features","better-wp-security"),isLink:!0})),Object(c.createElement)(ee,{moduleFilter:s,groupId:t,highlight:i},Object(c.createElement)(_.h,{apiError:b}))):Object(c.createElement)(E.Card,null,Object(c.createElement)(_.g,{tabs:n,isStyled:!0,selected:d,onSelect:function(e){p("".concat(r,"/").concat(e),"replace")}},(function(e){var r=e.Component;return Object(c.createElement)(r,{groupId:t,highlight:i},Object(c.createElement)(_.h,{apiError:b}))})))}function C(e){var t=e.groupIds,r=e.showSave,n=void 0===r||r,i=Object(y.useSelect)((function(e){return{isDirty:e("ithemes-security/user-groups-editor").hasBulkSettingEdits(),isSaving:e("ithemes-security/user-groups-editor").isSavingBulkEdits(t),errors:e("ithemes-security/user-groups-editor").getBulkErrorsList()}})),s=i.isDirty,o=i.isSaving,a=i.errors,l=Object(y.useDispatch)("ithemes-security/user-groups-editor"),d=l.saveBulkEdits,p=l.resetBulkGroupSettingEdits,b=Object(c.useMemo)((function(){return[{name:"settings",title:Object(u.__)("Features","better-wp-security"),className:"itsec-manage-user-group-tabs__tab",Component:re}]}));return Object(c.createElement)(React.Fragment,null,Object(c.createElement)(me,{groupIds:t}),Object(c.createElement)(E.Card,null,Object(c.createElement)(_.u,{tabs:b,isStyled:!0},(function(e){var r=e.Component;return Object(c.createElement)(r,{groupIds:t},Object(c.createElement)(_.h,{errors:a}))}))),n&&Object(c.createElement)(E.Flex,null,Object(c.createElement)(_.i,null),Object(c.createElement)(E.FlexItem,null,Object(c.createElement)(E.Button,{isSecondary:!0,onClick:function(){return p(t)},disabled:!s},Object(u.__)("Undo Changes","better-wp-security"))),Object(c.createElement)(E.FlexItem,null,Object(c.createElement)(E.Button,{isPrimary:!0,onClick:function(){return d(t)},isBusy:o,disabled:o||!s},Object(u.__)("Save","better-wp-security")))))}var D=r("K9lf");r("QmYb");var U=Object(D.compose)([Object(y.withSelect)((function(e,t){var r=t.groupId;return{label:e("ithemes-security/user-groups-editor").getEditedGroupAttribute(r,"label")||""}})),Object(y.withDispatch)((function(e,t){var r=t.groupId;return{edit:function(t){return e("ithemes-security/user-groups-editor").editGroup(r,t)}}}))])((function(e){var t=e.label,r=e.edit,n=e.disabled,i=void 0!==n&&n;return Object(c.createElement)(E.TextControl,{label:Object(u.__)("Group Name","better-wp-security"),value:t,maxLength:50,disabled:i,onChange:function(e){return r({label:e})}})})),M=r("lSNA"),B=r.n(M),F=r("TSYQ"),V=r.n(F);r("ZRc3");Object(D.compose)([Object(y.withSelect)((function(e){return{hasEdits:e("ithemes-security/user-groups-editor").hasEdits("new"),isSaving:e("ithemes-security/user-groups-editor").isCreating("new")}})),Object(y.withDispatch)((function(e){return{save:function(){e("ithemes-security/user-groups-editor").createGroup()}}}))])((function(e){var t=e.hasEdits,r=e.save,n=e.isSaving;return Object(c.createElement)(React.Fragment,null,Object(c.createElement)(E.CardBody,{className:"itsec-user-groups-group-tab__edit-fields"},Object(c.createElement)(he,{groupId:"new"})),Object(c.createElement)(E.CardFooter,null,Object(c.createElement)(_.i,null),Object(c.createElement)(E.FlexItem,null,Object(c.createElement)(E.Button,{disabled:!t,isPrimary:!0,onClick:r,isBusy:n},Object(u.__)("Create","better-wp-security")))))}));var $=Object(D.compose)([Object(y.withSelect)((function(e,t){var r=t.groupId;return{isLoading:e("core/data").isResolving("ithemes-security/user-groups","getGroup",[r])||e("core/data").isResolving("ithemes-security/core","getIndex")}}))])((function(e){var t=e.groupId,r=e.isLoading,n=e.children,i=Object(c.createElement)(React.Fragment,null,Object(c.createElement)(E.CardBody,{className:"itsec-user-groups-group-tab__edit-fields"},n,Object(c.createElement)(he,{groupId:t,disabled:r})));return r?Object(c.createElement)(E.Disabled,null,i):i})),H=r("eDuk"),q=r.n(H),K=r("RUGT");function W(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return Y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Y(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,c=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return c=e.done,e},e:function(e){u=!0,s=e},f:function(){try{c||null==r.return||r.return()}finally{if(u)throw s}}}}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function z(){return z.instance||(z.instance=new q.a({schemaId:"id"}),z.instance.addMetaSchema(r("3jBn"))),z.instance}function J(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=z(),r=Object(y.useSelect)((function(e){return{modules:e(a.c).getEditedModules(),activeModules:e(a.c).getActiveModules(),allSettings:e(a.c).__unstableGetAllEditedSettings()}})),n=r.modules,i=r.activeModules,s=r.allSettings,u=function(t){return!e.module||e.module===t.id},o=function(){return Object.fromEntries(n.filter((function(e){return!Object(N.isEmpty)(e.password_requirements)})).flatMap((function(e){return Object.entries(e.password_requirements).filter((function(e){return b()(e,2)[1].hasOwnProperty("user-group")})).map((function(t){var r=b()(t,2),n=r[0],i=r[1];return["requirement_settings.".concat(n,".group"),{title:i.title||e.title,description:i.description||e.description}]}))})))};return Object(c.useMemo)((function(){return n.reduce((function(e,r){if("active"!==r.status.selected)return e;if(!u(r))return e;if("password-requirements"!==r.id&&Object(N.isEmpty)(r.user_groups))return e;var n=Object(N.pickBy)("password-requirements"===r.id?o():r.user_groups,(function(e){if(!e.conditional)return!0;if(e.conditional["active-modules"]){var n,c=W(e.conditional["active-modules"]);try{for(c.s();!(n=c.n()).done;){var u=n.value;if(!i.includes(u))return!1}}catch(e){c.e(e)}finally{c.f()}}if(e.conditional.settings&&!t.compile(e.conditional.settings)(s[r.id]))return!1;return!0}));return Object(N.isEmpty)(n)||e.push({id:r.id,title:r.title,description:r.description,settings:n}),e}),[])}),[n])}function Q(){var e=Object(y.useDispatch)(l.ONBOARD_STORE_NAME).registerCompletionStep,t=Object(y.useDispatch)("ithemes-security/user-groups-editor"),r=t.saveGroups,n=t.saveGroupSettingsAsBatch;Object(S.f)(Q,(function(){e({id:"savingUserGroups",label:Object(u.__)("Create User Groups","better-wp-security"),priority:15,callback:function(){return r()},render:function(){var e=Object(y.useSelect)((function(e){var t=e("ithemes-security/user-groups-editor");return(t.getMatchableNavIds()||[]).map((function(e){return t.getEditedMatchableLabel(e)}))}),[]);return e.length?Object(c.createElement)(React.Fragment,null,Object(c.createElement)("p",null,Object(u.__)("The following User Groups will be created:","better-wp-security")),Object(c.createElement)("ul",null,e.map((function(e,t){return Object(c.createElement)("li",{key:t},e)})))):Object(c.createElement)("p",null,Object(u.__)("No User Groups have been created.","better-wp-security"))}}),e({id:"savingUserGroupsSetting",label:Object(u.__)("Setup User Group Settings","better-wp-security"),priority:20,callback:function(){return n()},render:function(){var e=J(),t=Object(y.useSelect)((function(e){var t=e("ithemes-security/user-groups-editor"),r=t.getMatchableNavIds()||[];return{ids:r,labels:Object(N.zipObject)(r,r.map((function(e){return t.getEditedMatchableLabel(e)}))),settings:Object(N.zipObject)(r,r.map((function(e){return t.getEditedGroupSettings(e)})))}}),[]),r=t.ids,n=t.labels,i=t.settings;return r.length?Object(c.createElement)(React.Fragment,null,Object(c.createElement)("p",null,Object(u.__)("The following features will be enabled for each User Group:","better-wp-security")),Object(c.createElement)("ul",{className:"itsec-secure-site-user-groups-settings-panel"},r.map((function(t){var r=e.flatMap((function(e){var r;return null!==(r=i[t])&&void 0!==r&&r[e.id]?Object(N.reduce)(e.settings,(function(r,n,s){return!0===i[t][e.id][s]&&r.push(n.title),r}),[]):[]}));return r.length?Object(c.createElement)("li",{key:t},Object(c.createElement)("strong",null,n[t]),Object(c.createElement)("ul",null,r.map((function(e,t){return Object(c.createElement)("li",{key:t},e)})))):Object(c.createElement)("li",{key:t},Object(u.sprintf)(Object(u.__)("%s: None","better-wp-security"),n[t]))})))):Object(c.createElement)("p",null,Object(u.__)("No User Groups have been created.","better-wp-security"))}})}))}function X(){var e=Object(y.useDispatch)(K.a).registerProvider;Object(S.f)(X,(function(){e("user-group-settings",Object(u.__)("User Group Settings","better-wp-security"),25,(function(e){var t=e.registry,r=e.evaluate,n=e.results;return t.select(a.c).getEditedModules().reduce((function(e,t){var i,s;return"active"===t.status.selected&&null!==(i=t.settings)&&void 0!==i&&null!==(s=i.interactive)&&void 0!==s&&s.length?Object(N.reduce)(t.user_groups,(function(e,i,s){var c,u,o;return r.stringMatch(i.title)||r.stringMatch(i.description)||r.keywordMatch(i.keywords)?(null!==(o=(c=n.groups)[u=t.id])&&void 0!==o||(c[u]={title:t.title,items:[]}),n.groups[t.id].items.push({title:i.title,description:i.description,route:"/settings/user-groups?module=".concat(t.id,"#").concat(t.id,"/").concat(s)}),e++):e}),e):e}),0)})),e("user-groups",Object(u.__)("User Groups","better-wp-security"),50,(function(e){var t=e.registry,r=e.evaluate,n=e.results;return(t.select("ithemes-security/user-groups-editor").getAvailableGroups()||[]).reduce((function(e,t){return r.stringMatch(t.label)?(n.items.push({title:t.label,description:t.description,route:"/settings/user-groups/".concat(t.id)}),e++):e}),0)}))}))}var Z=Object(D.compose)([Object(y.withSelect)((function(e,t){var r=t.groupId,n=t.module,i=t.setting;return{value:e("ithemes-security/user-groups-editor").getEditedGroupSetting(r,n,i)}})),Object(y.withDispatch)((function(e,t){var r=t.groupId,n=t.module,i=t.setting;return{edit:function(t){return e("ithemes-security/user-groups-editor").editGroupSetting(r,n,i,t)}}}))])((function(e){var t=e.definition,r=e.value,n=e.edit,i=e.className,s=e.isHighlighted,u=e.disabled,o=void 0!==u&&u;return Object(c.createElement)(E.ToggleControl,{className:V()(i,{"itsec-highlighted-search-result":s}),checked:!0===r,label:t.title,help:t.description,disabled:o,onChange:function(e){return n(e)}})}));r("GrEf");function ee(e){var t=e.groupId,r=e.highlight,n=e.moduleFilter,i=e.children,s=J({module:n}),u=Object(y.useSelect)((function(e){var r=!1;if(!e("ithemes-security/user-groups-editor").isLocalGroup(t)){var n=e("ithemes-security/user-groups").getGroupSettings(t),i=e("ithemes-security/user-groups").isResolving("getGroupSettings",[t]);r=!n&&i}return{isLoading:r}}),[t]).isLoading,o=Object(c.createElement)(E.CardBody,null,i,Object(c.createElement)(_e,{definitions:s,settingComponent:Z,groupId:t,disabled:u,highlight:r}));return u&&(o=Object(c.createElement)(E.Disabled,null,o)),Object(c.createElement)(React.Fragment,null,!n&&Object(c.createElement)(Se,null),o)}var te=Object(D.compose)([Object(y.withSelect)((function(e,t){var r=t.module,n=t.setting,i=t.groupIds;return{value:e("ithemes-security/user-groups-editor").getBulkSettingValue(i,r,n)}})),Object(y.withDispatch)((function(e,t){var r=t.module,n=t.setting;return{edit:function(t){return e("ithemes-security/user-groups-editor").bulkEditGroupSetting(r,n,t)}}}))])((function(e){var t=e.definition,r=e.value,n=e.edit,i=e.disabled,s=void 0!==i&&i;return Object(c.createElement)(_.d,{checked:!0===r,indeterminate:null==r,label:t.title,help:t.description,disabled:s,onChange:function(e){return n(e)}})}));function re(e){var t=e.groupIds,r=e.children,n=J(),i=Object(c.createElement)(E.CardBody,null,r,Object(c.createElement)(_e,{definitions:n,settingComponent:te,groupIds:t}));return t.length||(i=Object(c.createElement)(E.Disabled,null,i)),Object(c.createElement)(React.Fragment,null,Object(c.createElement)(Se,null),i)}Object(D.compose)([Object(y.withSelect)((function(e,t){var r=t.groupId;return{minRole:e("ithemes-security/user-groups-editor").getEditedGroupAttribute(r,"min_role")}})),Object(y.withDispatch)((function(e,t){var r=t.groupId;return{onChange:function(t){return e("ithemes-security/user-groups-editor").editGroup(r,t)}}}))])((function(e){var t=e.minRole,r=e.onChange;return Object(c.createElement)("div",null,Object(c.createElement)(E.SelectControl,{options:[{value:"administrator",label:Object(u._x)("Administrator","User role")},{value:"editor",label:Object(u._x)("Editor","User role")},{value:"author",label:Object(u._x)("Author","User role")},{value:"contributor",label:Object(u._x)("Contributor","User role")},{value:"subscriber",label:Object(u._x)("Subscriber","User role")}],label:Object(u.__)("Minimum Role","better-wp-security"),value:t,onChange:function(e){return r({min_role:e})},help:Object(u.__)("Add users with the selected minimum role to this group. To edit roles, go to Users in your WordPress Dashboard.","better-wp-security")}))}));var ne=r("RIqP"),ie=r.n(ne),se=r("4eJC"),ce=r.n(se),ue=r("Td6G"),oe=ce()((function(e,t){var r=[{value:"$administrator$",label:Object(u.__)("Administrator Capabilities","better-wp-security")},{value:"$editor$",label:Object(u.__)("Editor Capabilities","better-wp-security")},{value:"$author$",label:Object(u.__)("Author Capabilities","better-wp-security")},{value:"$contributor$",label:Object(u.__)("Contributor Capabilities","better-wp-security")},{value:"$subscriber$",label:Object(u.__)("Subscriber Capabilities","better-wp-security")}];for(var n in t&&r.unshift({value:"$super-admin$",label:Object(u.__)("Super Admin","better-wp-security")}),Object(N.some)(e,(function(e){return""===e.canonical}))&&r.push({value:"$other$",label:Object(u.__)("Other","better-wp-security"),selectable:!1}),e)if(e.hasOwnProperty(n)){var i=e[n],s=i.canonical,c=i.label;r.push({value:n,parent:s.length>0?"$".concat(s,"$"):"$other$",label:c})}return Object.values(r)}));var ae=Object(D.compose)([Object(y.withSelect)((function(e,t){var r=t.groupId;return{roles:e("ithemes-security/user-groups-editor").getEditedGroupAttribute(r,"roles")||[],canonical:e("ithemes-security/user-groups-editor").getEditedGroupAttribute(r,"canonical")||[],available:e("ithemes-security/core").getRoles(),schema:e("ithemes-security/core").getSchema("ithemes-security-user-group")}})),Object(y.withDispatch)((function(e,t){var r=t.groupId;return{onChange:function(t){return e("ithemes-security/user-groups-editor").editGroup(r,t)}}}))])((function(e){var t=e.canonical,r=e.roles,n=e.onChange,i=e.available,s=e.schema,o=e.disabled,a=void 0!==o&&o,l=Object(N.get)(s,["properties","canonical","items","enum"],[]).includes("super-admin"),d=[].concat(ie()(r),ie()(t.map((function(e){return"$".concat(e,"$")}))));return Object(c.createElement)(_.l,{label:Object(u.__)("Select Roles","better-wp-security"),help:Object(u.__)("Add users with the selected roles to this group.","better-wp-security"),value:d,disabled:a,options:oe(i,l),onChange:function(e){var t=Object(ue.d)(e,(function(e){return e.startsWith("$")&&e.endsWith("$")})),r=b()(t,2),i=r[0],s=r[1];n({roles:s,canonical:Object(N.without)(i.map((function(e){return e.slice(1,-1)})),"other")})}})})),le=r("ywyh"),de=r.n(le);r("ELjz");function pe(e){return{value:e.id,label:e.name,user:e}}var be=function(e){return new Promise((function(t,r){de()({path:Object(R.addQueryArgs)("/wp/v2/users",{search:e,per_page:100,context:"embed",itsec_global:!0})}).then((function(e){return e.forEach(Object(y.dispatch)("ithemes-security/core").receiveUser),e})).then((function(e){return t(e.map(pe))})).catch(r)}))};var fe=Object(D.compose)([Object(D.withState)({selectSearch:""}),Object(y.withSelect)((function(e,t){var r=t.groupId,n=e("ithemes-security/user-groups-editor").getEditedGroupAttribute(r,"users")||[],i=[],s=!1;return n.forEach((function(t){var r=e("ithemes-security/core").getUser(t);r?i.push(r):e("core/data").isResolving("ithemes-security/core","getUser",[t])&&(s=!0)})),{users:i,userIds:n,loading:s}})),Object(y.withDispatch)((function(e,t){var r=t.groupId;return{receiveUser:e("ithemes-security/core").receiveUser,onChange:function(t){return e("ithemes-security/user-groups-editor").editGroup(r,t)}}})),D.withInstanceId])((function(e){var t=e.instanceId,r=e.users,n=e.loading,i=e.onChange,s=e.disabled,o=void 0!==s&&s,a=e.selectSearch,l=e.setState,d="itsec-user-group-panel-users__select-".concat(t),p=n?[]:r.map(pe);return Object(c.createElement)(E.BaseControl,{className:"itsec-user-group-panel-users__select-control",label:Object(u.__)("Select Users","better-wp-security"),help:Object(u.__)("Select specific users to add to this group.","better-wp-security"),id:d},Object(c.createElement)(_.c,{classNamePrefix:"components-itsec-async-select-control",inputId:d,isDisabled:o||n,isLoading:n,isMulti:!0,cacheOptions:!0,defaultOptions:!0,loadOptions:be,value:p,onChange:function(e){return i({users:Object(N.map)(e,"value")})},inputValue:a,onInputChange:function(e){return l({selectSearch:e})}}))})),ge=r("LhCv");function Oe(e){var t=e.groupId,r=e.moduleFilter,n=Object(h.j)().root,i=Object(h.i)(),s=Object(y.useSelect)((function(e){var n;return{type:e("ithemes-security/user-groups-editor").getMatchableType(t),isDeleting:e("ithemes-security/user-groups").isDeleting(t),label:e("ithemes-security/user-groups-editor").getEditedMatchableLabel(t),navIds:e("ithemes-security/user-groups-editor").getMatchableNavIds(),help:null===(n=e("ithemes-security/modules").getModule("user-groups"))||void 0===n?void 0:n.help,module:e("ithemes-security/modules").getModule(r)}}),[t,r]),o=s.type,a=s.isDeleting,d=s.label,p=s.navIds,b=s.help,f=s.module,O=Object(y.useDispatch)("ithemes-security/user-groups-editor").deleteGroup,j=Object(l.useNavigateTo)(),v=d||Object(u.__)("Untitled","better-wp-security"),_=Object(l.useBreadcrumbTrail)((null==f?void 0:f.label)||v),S="user-group"===o,x=function(){var e=g()(m.a.mark((function e(){var r,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(t);case 2:if(e.t0=e.sent,e.t1=Error,e.t0 instanceof e.t1){e.next=8;break}-1!==(i=p.findIndex((function(e){return e===t})))&&(r=i+1<p.length?i+1:i-1),j("/".concat(n,"/user-groups/").concat(p[r]||""));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.createElement)(l.PageHeader,{title:v,help:b,breadcrumbs:Object(c.createElement)(l.Breadcrumbs,{trail:Object(c.useMemo)((function(){return[].concat(ie()(_),[f&&{to:Object(ge.c)(i),title:f.title}]).filter(N.identity)}),[_,f])})},S&&Object(c.createElement)(E.Button,{onClick:x,isBusy:a,isLink:!0,isDestructive:!0},Object(u.__)("Delete Group","better-wp-security")))}Object(D.compose)([Object(y.withSelect)((function(e){return{label:e("ithemes-security/user-groups-editor").getEditedGroupAttribute("new","label")}}))])((function(e){var t=e.label;return t&&t.length||(t=Object(u.__)("New Group","better-wp-security")),Object(c.createElement)(l.PageHeader,{label:t})}));function me(e){var t=e.groupIds,r=Object(y.useSelect)((function(e){return t.map(e("ithemes-security/user-groups-editor").getEditedMatchableLabel).join(", ")}),[t]);return Object(c.createElement)(l.PageHeader,{title:r||Object(u.__)("Select Groups","better-wp-security")})}r("XO7p");var he=function(e){var t=e.groupId,r=e.disabled;return Object(c.createElement)(React.Fragment,null,Object(c.createElement)(U,{groupId:t,disabled:r}),Object(c.createElement)(ae,{groupId:t,disabled:r}),Object(c.createElement)(fe,{groupId:t,disabled:r}))},je=r("pVnL"),ve=r.n(je),ye=r("QILm"),Ee=r.n(ye);function _e(e){var t=e.highlight,r=e.definitions,n=e.settingComponent,i=Ee()(e,["highlight","definitions","settingComponent"]),s=(t||"").split("/"),u=b()(s,2),o=u[0],a=u[1];return Object(c.createElement)("form",null,Object(c.createElement)("ul",{className:"itsec-user-groups-group-tab__modules-list"},Object(N.map)(r,(function(e){return!Object(N.isEmpty)(e.settings)&&Object(c.createElement)("li",{key:e.id,className:"itsec-user-groups-group-tab_settings-list"},Object(c.createElement)("h3",null,e.title),Object(N.map)(e.settings,(function(t,r){return Object(c.createElement)(n,ve()({key:r,definition:t,module:e.id,setting:r,isHighlighted:e.id===o&&r===a},i))})))}))))}r("TMLI");function Se(){var e=Object(v.d)("id",Object(v.e)(v.a,[])),t=b()(e,2),r=t[0],n=t[1],i=Object(v.d)("back"),s=b()(i,1)[0],o=Object(h.j)(),a=o.root,d=o.child,p=Object(l.useNavigateTo)(),f=Object(y.useSelect)((function(e){return{matchables:e("ithemes-security/user-groups").getMatchables()||[],isLocal:d&&e("ithemes-security/user-groups-editor").isLocalGroup(d)}}),[d]),g=f.matchables,O=f.isLocal;if("onboard"===a)return null;var m=Object(u.__)("Select multiple User Groups to edit together.","better-wp-security");return O&&(m=Object(c.createElement)(React.Fragment,null,m,Object(c.createElement)(_.k,{help:Object(u.__)("Save the User Group first to enable multi-editing.","better-wp-security")}))),Object(c.createElement)("div",{className:"itsec-user-groups-multi-group-selector"},Object(c.createElement)(E.CheckboxControl,{label:m,onChange:function(e){p(e?"/".concat(a,"/user-groups/multi?id=").concat(d,"&back=").concat(d):s?"/".concat(a,"/user-groups/").concat(s):"/".concat(a,"/user-groups"),"replace")},checked:!d,disabled:O}),!d&&Object(c.createElement)("fieldset",null,Object(c.createElement)(E.VisuallyHidden,{as:"legend"},Object(u.__)("User Groups","better-wp-security")),Object(c.createElement)(_.f,{label:Object(u.__)("Select All","better-wp-security"),checked:r.length===g.length,onChange:function(e){n(e?g.map((function(e){return e.id})):[])},className:"itsec-user-groups-multi-group-selector__select-all"}),g.map((function(e){return Object(c.createElement)(xe,{key:e.id,id:e.id,selected:r,setSelected:n})}))))}function xe(e){var t=e.id,r=e.selected,n=e.setSelected,i=Object(y.useSelect)((function(e){return{label:e("ithemes-security/user-groups-editor").getEditedMatchableLabel(t)}}),[t]).label;return Object(c.createElement)(_.f,{label:i,checked:r.includes(t),onChange:function(e){n(e?[].concat(ie()(r),[t]):Object(N.without)(r,t),"replaceIn")}})}function Ie(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ke(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(r),!0).forEach((function(t){B()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ie(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function we(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];return{type:"DISPATCH",storeKey:e,actionName:t,args:n}}function Ge(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"info",t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{type:"CREATE_NOTICE",status:e,content:t,options:ke({context:"ithemes-security"},r)}}var Le,Ne={API_FETCH:function(e){var t=e.request;return de()(t).catch(ue.l)},SELECT:function(e){var t,r=e.storeKey,n=e.selectorName,i=e.args;return(t=Object(y.select)(r))[n].apply(t,ie()(i))},DISPATCH:function(e){var t,r=e.storeKey,n=e.actionName,i=e.args;return(t=Object(y.dispatch)(r))[n].apply(t,ie()(i))},CREATE_NOTICE:function(e){var t=e.status,r=e.content,n=e.options;n.autoDismiss&&(n.id=n.id||Object(N.uniqueId)("itsec-auto-dismiss-"),setTimeout((function(){return Object(y.dispatch)("core/notices").removeNotice(n.id,n.context)}),n.autoDismiss)),Object(y.dispatch)("core/notices").createNotice(t,r,n)}},Re=new Uint8Array(16);function Te(){if(!Le&&!(Le="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Le(Re)}var Pe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var Ae=function(e){return"string"==typeof e&&Pe.test(e)},Ce=[],De=0;De<256;++De)Ce.push((De+256).toString(16).substr(1));var Ue=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(Ce[e[t+0]]+Ce[e[t+1]]+Ce[e[t+2]]+Ce[e[t+3]]+"-"+Ce[e[t+4]]+Ce[e[t+5]]+"-"+Ce[e[t+6]]+Ce[e[t+7]]+"-"+Ce[e[t+8]]+Ce[e[t+9]]+"-"+Ce[e[t+10]]+Ce[e[t+11]]+Ce[e[t+12]]+Ce[e[t+13]]+Ce[e[t+14]]+Ce[e[t+15]]).toLowerCase();if(!Ae(r))throw TypeError("Stringified UUID is invalid");return r};var Me=function(e,t,r){var n=(e=e||{}).random||(e.rng||Te)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=n[i];return t}return Ue(n)};function Be(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return Fe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Fe(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,c=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return c=e.done,e},e:function(e){u=!0,s=e},f:function(){try{c||null==r.return||r.return()}finally{if(u)throw s}}}}function Fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ve=m.a.mark(tt),$e=m.a.mark(rt),He=m.a.mark(nt),qe=m.a.mark(ct),Ke=m.a.mark(at),We=m.a.mark(lt),Ye=m.a.mark(dt),ze=m.a.mark(gt),Je=m.a.mark(Ot),Qe=m.a.mark(mt),Xe=m.a.mark(ht);function Ze(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function et(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ze(Object(r),!0).forEach((function(t){B()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ze(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function tt(e,t){var r,n,i,s,c;return m.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,y.controls.select("ithemes-security/user-groups-editor","isLocalGroup",e);case 2:if(r=u.sent,u.t0=!r,!u.t0){u.next=8;break}return u.next=7,y.controls.select("ithemes-security/user-groups","getGroup",e);case 7:u.t0=u.sent;case 8:return n=u.t0,u.next=11,y.controls.select("ithemes-security/user-groups-editor","getEditedGroup",e);case 11:return i=u.sent,s=et(et({},i||{}),t),c=Object(N.pickBy)(s,(function(e,t){return!Object(N.isEqual)(null==n?void 0:n[t],e)})),u.next=16,{type:yt,id:e,edit:c};case 16:case"end":return u.stop()}}),Ve)}function rt(e){var t,r;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,y.controls.select("ithemes-security/user-groups-editor","getEditedGroup",e);case 2:if(t=n.sent){n.next=5;break}return n.abrupt("return");case 5:return n.next=7,{type:kt,id:e};case 7:return n.next=9,y.controls.select("ithemes-security/user-groups-editor","isLocalGroup",e);case 9:if(!n.sent){n.next=15;break}return n.next=12,y.controls.dispatch("ithemes-security/user-groups","createGroup",et(et({},t),{},{id:e}));case 12:r=n.sent,n.next=18;break;case 15:return n.next=17,y.controls.dispatch("ithemes-security/user-groups","updateGroup",e,t);case 17:r=n.sent;case 18:if(!(r instanceof Error)){n.next=23;break}return n.next=21,{type:Gt,id:e,error:r};case 21:n.next=27;break;case 23:return n.next=25,{type:wt,id:e,updated:r};case 25:return n.next=27,Ge("success",Object(u.__)("Saved group.","better-wp-security"),{type:"snackbar"});case 27:return n.abrupt("return",r);case 28:case"end":return n.stop()}}),$e)}function nt(){var e,t,r,n,i,s,c,o,a,l,d,p,f,g,O=arguments;return m.a.wrap((function(m){for(;;)switch(m.prev=m.next){case 0:return e=!(O.length>0&&void 0!==O[0])||O[0],m.next=3,y.controls.select("ithemes-security/user-groups-editor","getLocalGroupIds");case 3:if(t=m.sent,!0!==e){m.next=19;break}return m.t0=ie.a,m.t1=Set,m.t2=[],m.t3=ie.a,m.next=11,y.controls.select("ithemes-security/user-groups-editor","getDirtyGroups");case 11:m.t4=m.sent,m.t5=(0,m.t3)(m.t4),m.t6=ie()(t),m.t7=m.t2.concat.call(m.t2,m.t5,m.t6),m.t8=new m.t1(m.t7),e=(0,m.t0)(m.t8),m.next=20;break;case 19:Object(N.isString)(e)&&(e=[e]);case 20:if(e.length){m.next=22;break}return m.abrupt("return",[]);case 22:r=[],n=[],i=Be(e),m.prev=25,i.s();case 27:if((s=i.n()).done){m.next=35;break}return c=s.value,m.next=31,y.controls.select("ithemes-security/user-groups-editor","getEditedGroup",c);case 31:o=m.sent,t.includes(c)?n.push(et(et({},o),{},{id:c})):r.push(et(et({},o),{},{id:c}));case 33:m.next=27;break;case 35:m.next=40;break;case 37:m.prev=37,m.t9=m.catch(25),i.e(m.t9);case 40:return m.prev=40,i.f(),m.finish(40);case 43:return m.next=45,y.controls.dispatch("ithemes-security/user-groups","saveGroups",{create:n,update:r});case 45:if(!((a=m.sent)instanceof Error)){m.next=50;break}return m.next=49,Ge("error",Object(u.sprintf)(Object(u.__)("Could not save user groups: %s","better-wp-security"),a.message));case 49:return m.abrupt("return",a);case 50:l=0,d=Object.entries(a.byId);case 51:if(!(l<d.length)){m.next=63;break}if(p=b()(d[l],2),f=p[0],!((g=p[1]).status>=400)){m.next=58;break}return m.next=56,{type:Gt,id:f,error:g.body};case 56:m.next=60;break;case 58:return m.next=60,{type:wt,id:f,updated:g.body};case 60:l++,m.next=51;break;case 63:return m.next=65,Ge("success",Object(u.__)("Saved user groups.","better-wp-security"),{type:"snackbar"});case 65:return m.abrupt("return",a);case 66:case"end":return m.stop()}}),He,null,[[25,37,40,43]])}function it(e){return{type:Et,id:e}}function st(){return{type:_t}}function ct(e){var t;return m.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,y.controls.select("ithemes-security/user-groups-editor","isLocalGroup",e);case 2:if(!r.sent){r.next=8;break}return r.next=6,{type:xt,id:e};case 6:r.next=15;break;case 8:return r.next=10,y.controls.dispatch("ithemes-security/user-groups","deleteGroup",e);case 10:if(!((t=r.sent)instanceof Error)){r.next=15;break}return r.next=14,{type:jt,id:e,error:t};case 14:return r.abrupt("return",t);case 15:return r.next=17,it(e);case 17:return r.next=19,{type:jt,id:e,error:null};case 19:case"end":return r.stop()}}),qe)}function ut(){return{type:It}}function ot(e){return{type:St,id:e||Me()}}function at(e,t,r,n){var i,s;return m.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,y.controls.select("ithemes-security/user-groups-editor","isLocalGroup",e);case 2:if(i=c.sent,c.t0=!i,!c.t0){c.next=8;break}return c.next=7,y.controls.select("ithemes-security/user-groups","getGroupSetting",e,t,r);case 7:c.t0=c.sent;case 8:if(s=c.t0,!Object(N.isEqual)(s,n)){c.next=14;break}return c.next=12,{type:Nt,id:e,module:t,setting:r};case 12:c.next=16;break;case 14:return c.next=16,{type:Lt,id:e,module:t,setting:r,value:n};case 16:case"end":return c.stop()}}),Ke)}function lt(e){var t,r;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,y.controls.select("ithemes-security/user-groups-editor","getGroupSettingsEdits",e);case 2:if(t=n.sent){n.next=5;break}return n.abrupt("return");case 5:return n.next=7,{type:Rt,id:e};case 7:return n.next=9,y.controls.dispatch("ithemes-security/user-groups","updateGroupSettings",e,t);case 9:if(!((r=n.sent)instanceof Error)){n.next=15;break}return n.next=13,{type:Pt,id:e,error:r};case 13:n.next=19;break;case 15:return n.next=17,{type:Tt,id:e,updated:r};case 17:return n.next=19,Ge("success",Object(u.__)("Updated group settings.","better-wp-security"),{type:"snackbar"});case 19:return n.abrupt("return",r);case 20:case"end":return n.stop()}}),We)}function dt(){var e,t,r,n,i,s,c,o,a,l,d,p=arguments;return m.a.wrap((function(f){for(;;)switch(f.prev=f.next){case 0:if(!0!==(e=!(p.length>0&&void 0!==p[0])||p[0])){f.next=7;break}return f.next=4,y.controls.select("ithemes-security/user-groups-editor","getDirtyGroupSettings");case 4:e=f.sent,f.next=8;break;case 7:Object(N.isString)(e)&&(e=[e]);case 8:if(e.length){f.next=10;break}return f.abrupt("return",{responses:[],byId:{}});case 10:t={},r=Be(e),f.prev=12,r.s();case 14:if((n=r.n()).done){f.next=21;break}return i=n.value,f.next=18,y.controls.select("ithemes-security/user-groups-editor","getGroupSettingsEdits",i);case 18:t[i]=f.sent;case 19:f.next=14;break;case 21:f.next=26;break;case 23:f.prev=23,f.t0=f.catch(12),r.e(f.t0);case 26:return f.prev=26,r.f(),f.finish(26);case 29:return f.next=31,y.controls.dispatch("ithemes-security/user-groups","saveGroupSettingsAsBatch",t);case 31:if(!((s=f.sent)instanceof Error)){f.next=36;break}return f.next=35,Ge("error",Object(u.sprintf)(Object(u.__)("Could not save user groups: %s","better-wp-security"),s.message));case 35:return f.abrupt("return",s);case 36:c=0,o=Object.entries(s.byId);case 37:if(!(c<o.length)){f.next=49;break}if(a=b()(o[c],2),l=a[0],!((d=a[1]).status>=400)){f.next=44;break}return f.next=42,{type:Pt,id:l,error:d.body};case 42:f.next=46;break;case 44:return f.next=46,{type:Tt,id:l,updated:d.body};case 46:c++,f.next=37;break;case 49:return f.next=51,Ge("success",Object(u.__)("Saved user groups.","better-wp-security"),{type:"snackbar"});case 51:return f.abrupt("return",s);case 52:case"end":return f.stop()}}),Ye,null,[[12,23,26,29]])}function pt(e,t,r){return{type:At,module:e,setting:t,value:r}}function bt(e,t){return{type:Ct,module:e,setting:t}}function ft(){return{type:Dt}}function gt(e){var t,r,n;return m.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,y.controls.select("ithemes-security/user-groups-editor","getBulkSettingEdits");case 2:return t=i.sent,i.next=5,y.controls.dispatch("ithemes-security/user-groups","patchBulkGroupSettings",e,t);case 5:if(!((r=i.sent)instanceof Error)){i.next=11;break}return i.next=9,Ge("error",r.message);case 9:i.next=19;break;case 11:if(!Object(N.map)(r,"status").every((function(e){return 200===e}))){i.next=16;break}return i.next=14,Ge("success",Object(u.__)("Updated group settings.","better-wp-security"),{type:"snackbar"});case 14:i.next=19;break;case 16:return n=r.filter((function(e){return 200!==e.status})).flatMap((function(e){var t=e.error;return Object(ue.e)(t).getAllErrorMessages()})),i.next=19,{type:vt,errors:n};case 19:return i.next=21,ft();case 21:return i.abrupt("return",r);case 22:case"end":return i.stop()}}),ze)}function Ot(e){var t,r;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,y.controls.select("ithemes-security/user-groups-editor","hasEdits",e);case 2:if(!n.sent){n.next=7;break}return n.delegateYield(rt(e),"t0",4);case 4:if(!((t=n.t0)instanceof Error)){n.next=7;break}return n.abrupt("return",t);case 7:return n.next=9,y.controls.select("ithemes-security/user-groups-editor","settingHasEdits",e);case 9:if(!n.sent){n.next=14;break}return n.delegateYield(lt(e),"t1",11);case 11:if(!((r=n.t1)instanceof Error)){n.next=14;break}return n.abrupt("return",r);case 14:return n.abrupt("return",null);case 15:case"end":return n.stop()}}),Je)}function mt(){var e,t,r,n,i,s,c,u,o;return m.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,y.controls.resolveSelect(a.c,"getEditedModules");case 2:return e=l.sent,l.next=5,y.controls.select("ithemes-security/user-groups-editor","getMatchableNavIds");case 5:t=l.sent,r=Be(t),l.prev=7,r.s();case 9:if((n=r.n()).done){l.next=41;break}i=n.value,s=Be(e),l.prev=12,s.s();case 14:if((c=s.n()).done){l.next=31;break}if("active"===(u=c.value).status.selected){l.next=18;break}return l.abrupt("continue",29);case 18:l.t0=m.a.keys(u.user_groups);case 19:if((l.t1=l.t0()).done){l.next=29;break}if(o=l.t1.value,u.user_groups.hasOwnProperty(o)){l.next=23;break}return l.abrupt("continue",19);case 23:if("all"===u.user_groups[o].default){l.next=25;break}return l.abrupt("continue",19);case 25:return l.next=27,at(i,u.id,o,!0);case 27:l.next=19;break;case 29:l.next=14;break;case 31:l.next=36;break;case 33:l.prev=33,l.t2=l.catch(12),s.e(l.t2);case 36:return l.prev=36,s.f(),l.finish(36);case 39:l.next=9;break;case 41:l.next=46;break;case 43:l.prev=43,l.t3=l.catch(7),r.e(l.t3);case 46:return l.prev=46,r.f(),l.finish(46);case 49:case"end":return l.stop()}}),Qe,null,[[7,43,46,49],[12,33,36,39]])}function ht(){var e,t,r,n,i,s,c,o,d,p,b,f,g,O,h,j,v,E,_,S,x,I,k,w,G,L,R,T,P,A,C,D,U,M,B,F,V,$;return m.a.wrap((function(H){for(;;)switch(H.prev=H.next){case 0:return e={administrator:Object(u.__)("Administrators","better-wp-security"),editor:Object(u.__)("Editors","better-wp-security"),author:Object(u.__)("Authors","better-wp-security"),contributor:Object(u.__)("Contributors","better-wp-security"),subscriber:Object(u.__)("Subscribers","better-wp-security")},H.next=3,y.controls.resolveSelect(a.c,"getEditedModules");case 3:return t=H.sent,H.next=6,y.controls.resolveSelect("ithemes-security/user-groups","getMatchables");case 6:return r=H.sent,H.next=9,y.controls.select("ithemes-security/user-groups-editor","getLocalGroupIds");case 9:return n=H.sent,H.next=12,y.controls.select(l.ONBOARD_STORE_NAME,"getAnswers");case 12:i=H.sent,s={administrator:[],editor:[],author:[],contributor:[],subscriber:[]},c=Be(Object(N.map)(Object(N.filter)(r,{type:"user-group"}),"id").concat(n)),H.prev=15,c.s();case 17:if((o=c.n()).done){H.next=26;break}return d=o.value,H.next=21,y.controls.select("ithemes-security/user-groups-editor","getEditedGroupAttribute",d,"canonical");case 21:p=H.sent,b=Be(p);try{for(b.s();!(f=b.n()).done;)g=f.value,s[g].push(d)}catch(e){b.e(e)}finally{b.f()}case 24:H.next=17;break;case 26:H.next=31;break;case 28:H.prev=28,H.t0=H.catch(15),c.e(H.t0);case 31:return H.prev=31,c.f(),H.finish(31);case 34:O={},h=Be(i);try{for(h.s();!(j=h.n()).done;)v=j.value,Object(N.isPlainObject)(v.canonical_group_substitutions)&&Object.assign(O,v.canonical_group_substitutions)}catch(e){h.e(e)}finally{h.f()}H.t1=m.a.keys(e);case 38:if((H.t2=H.t1()).done){H.next=159;break}if(E=H.t2.value,e.hasOwnProperty(E)){H.next=42;break}return H.abrupt("continue",38);case 42:if(_=s[E],!O.hasOwnProperty(E)){H.next=47;break}if(null!==O[E]||_.length){H.next=46;break}return H.abrupt("continue",38);case 46:_.push(O[E]);case 47:if(0!==_.length){H.next=54;break}return S=Me(),H.next=51,ot(S);case 51:return H.next=53,tt(S,{label:e[E],canonical:[E]});case 53:_.push(S);case 54:"subscriber"===E&&_.push("everybody-else"),x=Be(t),H.prev=56,x.s();case 58:if((I=x.n()).done){H.next=93;break}if("active"===(k=I.value).status.selected){H.next=62;break}return H.abrupt("continue",91);case 62:H.t3=m.a.keys(k.user_groups);case 63:if((H.t4=H.t3()).done){H.next=91;break}if(w=H.t4.value,k.user_groups.hasOwnProperty(w)){H.next=67;break}return H.abrupt("continue",63);case 67:if(k.user_groups[w].default){H.next=69;break}return H.abrupt("continue",63);case 69:if(G=k.user_groups[w].default,Array.isArray(G)||(G=[G]),!(Object(N.intersection)(["all",E],G).length>0)){H.next=89;break}L=Be(_),H.prev=73,L.s();case 75:if((R=L.n()).done){H.next=81;break}return T=R.value,H.next=79,at(T,k.id,w,!0);case 79:H.next=75;break;case 81:H.next=86;break;case 83:H.prev=83,H.t5=H.catch(73),L.e(H.t5);case 86:return H.prev=86,L.f(),H.finish(86);case 89:H.next=63;break;case 91:H.next=58;break;case 93:H.next=98;break;case 95:H.prev=95,H.t6=H.catch(56),x.e(H.t6);case 98:return H.prev=98,x.f(),H.finish(98);case 101:P=Be(i),H.prev=102,P.s();case 104:if((A=P.n()).done){H.next=149;break}if((C=A.value).user_groups_settings[E]){H.next=108;break}return H.abrupt("continue",147);case 108:H.t7=m.a.keys(C.user_groups_settings[E]);case 109:if((H.t8=H.t7()).done){H.next=147;break}if(D=H.t8.value,C.user_groups_settings[E].hasOwnProperty(D)){H.next=113;break}return H.abrupt("continue",109);case 113:U=Be(C.user_groups_settings[E][D]),H.prev=114,U.s();case 116:if((M=U.n()).done){H.next=137;break}B=M.value,F=Be(_),H.prev=119,F.s();case 121:if((V=F.n()).done){H.next=127;break}return $=V.value,H.next=125,at($,D,B,!0);case 125:H.next=121;break;case 127:H.next=132;break;case 129:H.prev=129,H.t9=H.catch(119),F.e(H.t9);case 132:return H.prev=132,F.f(),H.finish(132);case 135:H.next=116;break;case 137:H.next=142;break;case 139:H.prev=139,H.t10=H.catch(114),U.e(H.t10);case 142:return H.prev=142,U.f(),H.finish(142);case 145:H.next=109;break;case 147:H.next=104;break;case 149:H.next=154;break;case 151:H.prev=151,H.t11=H.catch(102),P.e(H.t11);case 154:return H.prev=154,P.f(),H.finish(154);case 157:H.next=38;break;case 159:return H.next=161,y.controls.select("ithemes-security/user-groups-editor","getMatchableNavIds");case 161:return H.abrupt("return",H.sent);case 162:case"end":return H.stop()}}),Xe,null,[[15,28,31,34],[56,95,98,101],[73,83,86,89],[102,151,154,157],[114,139,142,145],[119,129,132,135]])}var jt="SET_GROUP_ERROR",vt="SET_BULK_ERRORS",yt="EDIT_GROUP",Et="RESET_EDITS",_t="RESET_ALL_EDITS",St="CREATE_LOCAL_GROUP",xt="DELETE_LOCAL_GROUP",It="DELETE_LOCAL_GROUPS",kt="START_SAVE_GROUP",wt="FINISH_SAVE_GROUP",Gt="FAILED_SAVE_GROUP",Lt="EDIT_GROUP_SETTING",Nt="RESET_GROUP_SETTING",Rt="START_SAVE_GROUP_SETTINGS",Tt="FINISH_SAVE_GROUP_SETTINGS",Pt="FAILED_SAVE_GROUP_SETTINGS",At="BULK_EDIT_GROUP_SETTING",Ct="RESET_BULK_GROUP_SETTING_EDIT",Dt="RESET_BULK_GROUP_SETTING_EDITS",Ut=r("pPDe");function Mt(e){return e.localGroupIds}function Bt(e,t){return e.localGroupIds.includes(t)}var Ft=Object(y.createRegistrySelector)((function(e){return function(t,r){return Bt(t,r)?"user-group":e("ithemes-security/user-groups").getMatchableType(r)}})),Vt=Object(y.createRegistrySelector)((function(e){return function(t,r){return t.saving.includes(r)||e("ithemes-security/user-groups").isUpdating(r)||e("ithemes-security/user-groups").isUpdatingSettings(r)}}));function $t(e,t){return e.edits[t]}var Ht=Object(y.createRegistrySelector)((function(e){return function(t,r,n){var i=Object(N.get)(t,["edits",r,n]);return void 0!==i?i:"new"===r||Bt(t,r)?void 0:e("ithemes-security/user-groups").getGroupAttribute(r,n)}})),qt=Object(y.createRegistrySelector)((function(e){return function(t,r){return"user-group"!==e("ithemes-security/user-groups-editor").getMatchableType(r)?e("ithemes-security/user-groups").getMatchableLabel(r):e("ithemes-security/user-groups-editor").getEditedGroupAttribute(r,"label")}}));function Kt(e,t){return e.edits[t]&&!Object(N.isEmpty)(e.edits[t])}var Wt=Object(Ut.a)((function(e){return Object.keys(e.edits).filter((function(t){return!Object(N.isEmpty)(e.edits[t])}))}),(function(e){return e.edits}));function Yt(e,t){return!!e.settingEdits[t]}function zt(e,t){return e.settingEdits[t]}var Jt=ce()((function(e,t){return Object(N.merge)({},e,t)}),{maxSize:1}),Qt=Object(y.createRegistrySelector)((function(e){return function(t,r){var n=Bt(t,r)?{}:e("ithemes-security/user-groups").getGroupSettings(r),i=zt(t,r);return Jt(n,i)}})),Xt=Object(y.createRegistrySelector)((function(e){return function(t,r,n,i){var s=Object(N.get)(t,["settingEdits",r,n,i]);return void 0!==s?s:!Bt(t,r)&&e("ithemes-security/user-groups").getGroupSetting(r,n,i)}})),Zt=Object(y.createRegistrySelector)((function(e){return function(t){var r=e("ithemes-security/user-groups").getGroupsBySetting();if(Object(N.isEmpty)(t.settingEdits)||Object(N.isEmpty)(r))return r;for(var n=Object(N.cloneDeep)(r),i=0,s=Object.entries(t.settingEdits);i<s.length;i++)for(var c=b()(s[i],2),u=c[0],o=c[1],a=0,l=Object.entries(o);a<l.length;a++)for(var d=b()(l[a],2),p=d[0],f=d[1],g=0,O=Object.entries(f);g<O.length;g++){var m=b()(O[g],2),h=m[0];m[1]?n[p][h].push(u):Object(N.pull)(n[p][h],u)}return n}})),er=Object(Ut.a)((function(e){return Object.keys(e.settingEdits).filter((function(t){return!Object(N.isEmpty)(e.settingEdits[t])}))}),(function(e){return e.settingEdits}));function tr(e,t){return Kt(e,t)||Yt(e,t)}function rr(e){return!Object(N.isEmpty)(e.bulkSettingEdits)}function nr(e){return e.bulkSettingEdits}function ir(e,t,r){return Object(N.get)(e,["bulkSettingEdits",t,r])}var sr=Object(y.createRegistrySelector)((function(e){return function(t,r,n,i){var s=ir(t,n,i);if(void 0!==s)return s;var c=function(t){return e("ithemes-security/user-groups").getGroupSetting(t,n,i)},u=c(r[0]);return r.every((function(e){return c(e)===u}))?u:null}})),cr=Object(y.createRegistrySelector)((function(e){return function(t,r){var n=nr(t);return e("ithemes-security/user-groups").isBulkPatchingSettings(r,n)}})),ur=Object(y.createRegistrySelector)((function(e){return function(){return e("ithemes-security/user-groups").getGroups("available")}})),or=ce()((function(e,t,r){if(t&&!e.length)return null;var n=Object(N.partition)(e,(function(e){return"user-group"===e.type})),i=b()(n,2),s=i[0],c=i[1];return s.map((function(e){return e.id})).concat(r).concat(c.map((function(e){return e.id})))}),{maxSize:1}),ar=Object(y.createRegistrySelector)((function(e){return function(){var t=e("ithemes-security/user-groups").getMatchables(),r=e("core/data").isResolving("ithemes-security/user-groups","getMatchables"),n=e("ithemes-security/user-groups-editor").getLocalGroupIds();return or(t,r,n)}}));function lr(e,t){return e.errors[t]}function dr(e){return e.bulkErrors}var pr=m.a.mark(br);function br(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we("ithemes-security/user-groups","query","available",{_embed:1});case 2:case"end":return e.stop()}}),pr)}function fr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function gr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fr(Object(r),!0).forEach((function(t){B()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Or={edits:{},settingEdits:{},bulkSettingEdits:{},localGroupIds:[],saving:[],errors:{},bulkErrors:[]};Object(y.registerStore)("ithemes-security/user-groups-editor",{controls:Ne,actions:n,selectors:i,resolvers:s,reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Or,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case yt:return gr(gr({},e),{},{edits:gr(gr({},e.edits),{},B()({},t.id,t.edit))});case St:return gr(gr({},e),{},{localGroupIds:[].concat(ie()(e.localGroupIds),[t.id])});case xt:return gr(gr({},e),{},{localGroupIds:e.localGroupIds.filter((function(e){return e!==t.id}))});case It:return gr(gr({},e),{},{localGroupIds:[]});case kt:return gr(gr({},e),{},{saving:[].concat(ie()(e.saving),[t.id])});case Gt:return gr(gr({},e),{},{saving:e.saving.filter((function(e){return e!==t.id})),errors:gr(gr({},e.errors),{},B()({},t.id,t.error))});case wt:return gr(gr({},e),{},{edits:Object(N.omit)(e.edits,[t.id]),localGroupIds:e.localGroupIds.filter((function(e){return e!==t.id})),saving:e.saving.filter((function(e){return e!==t.id})),errors:Object(N.omit)(e.errors,[t.id])});case Lt:return gr(gr({},e),{},{settingEdits:gr(gr({},e.settingEdits),{},B()({},t.id,gr(gr({},Object(N.get)(e,["settingEdits",t.id],{})),{},B()({},t.module,gr(gr({},Object(N.get)(e,["settingEdits",t.id,t.module],{})),{},B()({},t.setting,t.value))))))});case Nt:var r=gr(gr({},e),{},{settingEdits:gr(gr({},e.settingEdits),{},B()({},t.id,gr(gr({},Object(N.get)(e,["settingEdits",t.id],{})),{},B()({},t.module,Object(N.omit)(Object(N.get)(e,["settingEdits",t.id,t.module],{}),[t.setting])))))});return Object(N.isEmpty)(r.settingEdits[t.id][t.module])&&delete r.settingEdits[t.id][t.module],Object(N.isEmpty)(r.settingEdits[t.id])&&delete r.settingEdits[t.id],r;case Tt:return gr(gr({},e),{},{settingEdits:Object(N.omit)(e.settingEdits,[t.id]),errors:Object(N.omit)(e.errors,[t.id])});case Pt:return gr(gr({},e),{},{errors:gr(gr({},e.errors),{},B()({},t.id,t.error))});case Et:return gr(gr({},e),{},{edits:Object(N.omit)(e.edits,[t.id]),settingEdits:Object(N.omit)(e.settingEdits,[t.id])});case _t:return gr(gr({},e),{},{edits:{},settingEdits:{},bulkSettingEdits:{}});case At:return gr(gr({},e),{},{bulkSettingEdits:gr(gr({},e.bulkSettingEdits),{},B()({},t.module,gr(gr({},e.bulkSettingEdits[t.module]||{}),{},B()({},t.setting,t.value))))});case Ct:return gr(gr({},e),{},{bulkSettingEdits:Object(N.omit)(e.bulkSettingEdits,"".concat(t.module,".").concat(t.setting))});case Dt:return gr(gr({},e),{},{bulkSettingEdits:{}});case jt:return gr(gr({},e),{},{errors:t.error?gr(gr({},e.errors),{},B()({},t.id,t.error)):Object(N.omit)(e.errors,[t.id])});case vt:return gr(gr({},e),{},{bulkErrors:t.errors});default:return e}},persist:["edits","settingEdits","bulkSettingEdits","localGroupIds"]});var mr=r("g56x");function hr(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return jr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jr(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,c=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return c=e.done,e},e:function(e){u=!0,s=e},f:function(){try{c||null==r.return||r.return()}finally{if(u)throw s}}}}function jr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}Object(mr.addAction)("ithemes-security.onboard.applyAnswerResponse","ithemes-security/user-groups/onboard.applyAnswerResponse",(function(e,t){var r,n=hr(t.user_groups);try{for(n.s();!(r=n.n()).done;){var i=r.value;e.dispatch("ithemes-security/user-groups-editor").createLocalGroup(i.id)&&e.dispatch("ithemes-security/user-groups-editor").editGroup(i.id,Object(N.pick)(i,["label","users","roles","canonical"]))}}catch(e){n.e(e)}finally{n.f()}for(var s in t.user_groups_settings)if(t.user_groups_settings.hasOwnProperty(s)&&Ae(s)){var c=t.user_groups_settings[s];if(c)for(var u in c)if(c.hasOwnProperty(u)){var o,a=hr(c[u]);try{for(a.s();!(o=a.n()).done;){var l=o.value;e.dispatch("ithemes-security/user-groups-editor").editGroupSetting(s,u,l,!0)}}catch(e){a.e(e)}finally{a.f()}}}})),Object(mr.addAction)("ithemes-security.onboard.reset","ithemes-security/user-groups/onboard.reset",(function(e){e.dispatch("ithemes-security/user-groups-editor").deleteLocalGroups(),e.dispatch("ithemes-security/user-groups-editor").resetAllEdits()})),Object(mr.addFilter)("ithemes-security.settings.isConditionalSettingActive","ithemes-security/user-groups/user-group-conditional",(function(e,t,r,n){if(!e||!r["user-groups"])return e;var i,s=n.registry.select("ithemes-security/user-groups-editor").getEditedGroupsBySetting(),c=hr(r["user-groups"]);try{for(c.s();!(i=c.n()).done;){var u,o=i.value;if(!((null===(u=s[t.id])||void 0===u?void 0:u[o])||[]).length)return!1}}catch(e){c.e(e)}finally{c.f()}return!0}));r("wM0a");function vr(){return Q(),X(),Object(c.createElement)(l.Page,{id:"user-groups",title:Object(u.__)("User Groups","better-wp-security"),icon:"groups",priority:10,roots:["onboard","settings"]},(function(){return Object(c.createElement)(d,null)}))}r.p=window.itsecWebpackPublicPath,Object(u.setLocaleData)({"":{}},"ithemes-security-pro"),Object(o.registerPlugin)("itsec-user-groups",{render:function(){return Object(c.createElement)(vr,null)}})},faye:function(e,t){!function(){e.exports=this.ReactDOM}()},g56x:function(e,t){!function(){e.exports=this.wp.hooks}()},gdqT:function(e,t){!function(){e.exports=this.wp.a11y}()},l3Sj:function(e,t){!function(){e.exports=this.wp.i18n}()},on51:function(e,t){!function(){e.exports=this.itsec.pages.settings}()},onLe:function(e,t){!function(){e.exports=this.wp.notices}()},rl8x:function(e,t){!function(){e.exports=this.wp.isShallowEqual}()},sPxh:function(e,t){!function(){e.exports=this.itsec["user-groups"].api}()},"tI+e":function(e,t){!function(){e.exports=this.wp.components}()},wM0a:function(e,t,r){},ywyh:function(e,t){!function(){e.exports=this.wp.apiFetch}()}},[["epig",0,5,1,4,6,2,3]]]);